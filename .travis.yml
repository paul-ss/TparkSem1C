dist:     xenial
sudo:     required

language: c

os: linux

compiler: gcc

install:
    - sudo apt-get update
     #Install gtest
    - sudo apt-get install -y libgtest-dev
     #sudo apt-get install cmake
    - cd /usr/src/gtest
    - sudo cmake CMakeLists.txt
    - sudo make
    - sudo cp *.a /usr/lib
    - sudo ln -s /usr/lib/libgtest.a /usr/local/lib/gtest/libgtest.a
    - sudo ln -s /usr/lib/libgtest_main.a /usr/local/lib/gtest/libgtest_main.a
     #Install valgrind
    - sudo apt-get install -y valgrind


before_script:
    - ./linters/run.sh

script:
    - mkdir build
    - cd build
    - cmake ..
    - make
    - ctest -V